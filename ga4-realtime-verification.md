# 📊 GA4リアルタイムレポート確認ガイド

## 🎯 目的
Google Analytics 4リアルタイムレポートで実際の計測データが正常に収集されていることを確認する

## 📈 対象情報
- **GA4プロパティ**: TOYAMA BLOG (ID: 498053318)
- **測定ID**: G-5VS8BF91VH
- **対象サイト**: https://sasakiyoshimasa.com
- **ダッシュボードURL**: https://analytics.google.com/analytics/web/#/p498053318/realtime/overview

---

## 🚀 Step 1: GA4ダッシュボードへのアクセス

### アクセス手順
1. **GA4ダッシュボードを開く**
   ```
   https://analytics.google.com/analytics/web/#/p498053318/realtime/overview
   ```

2. **Googleアカウントでログイン**
   - TOYAMA BLOGプロパティへのアクセス権限が必要
   - 管理者または編集者権限が必要

3. **プロパティ選択確認**
   - 左上にて「TOYAMA BLOG」が選択されていることを確認
   - プロパティID: 498053318

### ✅ 期待される画面
```
📊 リアルタイム → 概要
- アクティブユーザー数 (リアルタイム)
- ページビュー数 (過去30分)
- イベント数
- 上位のページとスクリーン
```

---

## 📈 Step 2: ベースライン確認

### 確認項目
1. **現在の状況を記録**
   ```
   確認時刻: [記録]
   アクティブユーザー: [記録]
   ページビュー数: [記録]
   イベント数: [記録]
   ```

2. **データ更新頻度**
   - リアルタイムデータは通常10-20秒間隔で更新
   - 大幅な変更は1-2分で反映

---

## 🌐 Step 3: テストトラフィック生成

### 基本テスト
1. **新しいタブでサイトにアクセス**
   ```
   https://sasakiyoshimasa.com
   ```

2. **1-2分待機後、リアルタイムレポートを確認**
   - アクティブユーザー数の増加
   - 新しいページビューの記録

### ページ遷移テスト
1. **サイト内でページ遷移を実行**
   ```
   メインページ → 記事ページ → カテゴリページ → 戻る
   ```

2. **リアルタイムレポートで確認**
   - ページビュー数の増加
   - 「上位のページとスクリーン」に新しいURLが表示

---

## 📊 Step 4: 詳細レポート確認

### レポート項目別確認

#### 1. アクティブユーザー
```
✅ 確認項目:
- 現在のアクティブユーザー数
- ユーザー数の変動グラフ
- 新規/既存ユーザーの区分
```

#### 2. ページビュー
```
✅ 確認項目:
- 過去30分間のページビュー総数
- ページビュー数の推移グラフ
- 時間別の分布
```

#### 3. イベント
```
✅ 確認項目:
- page_view イベントの発生
- カスタムイベントの記録（もしあれば）
- イベント数の合計
```

#### 4. 上位のページとスクリーン
```
✅ 確認項目:
- アクセスされたページのリスト
- 各ページのページビュー数
- 正しいページタイトルの表示
```

#### 5. 参照元/メディア
```
✅ 確認項目:
- 直接アクセス (direct)
- 参照元サイト（もしあれば）
- トラフィックソースの正確性
```

---

## 🔄 Step 5: 手動イベントテスト

### カスタムイベント送信テスト
1. **サイトのDevTools Consoleで実行**
   ```javascript
   // カスタムイベント送信
   gtag('event', 'manual_test', {
     event_category: 'realtime_verification',
     event_label: 'dashboard_test',
     value: 1,
     custom_parameter_1: 'test_value'
   });
   console.log('✅ テストイベントを送信しました');
   ```

2. **GA4リアルタイムレポートで確認**
   - 1-2分後にイベント数の増加
   - 「イベント」セクションでmanual_testイベントの確認

---

## 📈 Step 6: 地理的情報確認

### 確認手順
1. **「場所」タブをクリック**
2. **地理的データの確認**
   ```
   ✅ 期待される情報:
   - 国: Japan
   - 地域: 正確な都道府県
   - 市区町村: アクセス元の市区町村
   ```

3. **IPアドレス精度確認**
   - 大まかな地理的情報が正確に表示されること

---

## 🔧 Step 7: デバイス・技術情報確認

### 確認項目
1. **「技術」タブでの確認**
   ```
   ✅ デバイス情報:
   - デバイスカテゴリ (desktop/mobile)
   - オペレーティングシステム
   - ブラウザ名とバージョン
   ```

2. **技術仕様の確認**
   ```
   ✅ 技術情報:
   - 画面解像度
   - ブラウザ言語
   - JavaScript有効/無効
   ```

---

## ⏰ Step 8: タイムライン確認

### リアルタイムタイムライン
1. **「過去30分間のユーザー」グラフ確認**
   - アクセス時刻に対応したスパイク
   - データ更新の即座性

2. **ページビューのタイムライン**
   - 実際のアクセス時刻との一致
   - 遅延時間の測定（通常1-2分以内）

---

## 🚨 トラブルシューティング

### 問題1: アクティブユーザーが0のまま
```
原因候補:
- GA4実装エラー
- 測定IDの不一致
- JavaScript無効

対処法:
1. DevToolsでgtag実装を再確認
2. 測定ID G-5VS8BF91VH の設定確認
3. Networkタブでcollectリクエスト確認
```

### 問題2: ページビューが記録されない
```
原因候補:
- pageview送信の重複防止設定エラー
- App Routerでの実装問題

対処法:
1. send_page_view: false 設定の確認
2. GAProviderのuseEffect動作確認
3. ルート変更時のpageview送信確認
```

### 問題3: データ反映の遅延
```
正常範囲:
- 1-2分の遅延は正常
- 5分以上の遅延は問題の可能性

対処法:
1. ブラウザキャッシュクリア
2. GA4ダッシュボードの再読み込み
3. 別ブラウザでの確認
```

### 問題4: 間違った地理的情報
```
原因:
- VPN使用
- プロキシサーバー経由
- IPアドレス精度の限界

対処法:
- 正常な動作として受け入れ
```

---

## ✅ 成功基準

### 最小限の成功基準
1. **アクティブユーザー**: 1以上
2. **ページビュー**: テストアクセス分の記録
3. **正しいページURL**: サイトのページが正確に記録
4. **適切なタイミング**: 1-2分以内でのデータ反映

### 理想的な成功基準
1. **全データ項目**: アクティブユーザー、ページビュー、イベント、地理的情報、技術情報の全てが正確
2. **リアルタイム更新**: 10-20秒間隔での自動更新
3. **カスタムイベント**: 手動送信したイベントの正確な記録
4. **ページ遷移追跡**: サイト内ナビゲーションの正確な追跡

---

## 📋 確認チェックリスト

### 事前確認
- [ ] GA4ダッシュボードへのログイン完了
- [ ] TOYAMA BLOGプロパティの選択確認
- [ ] リアルタイム概要画面の表示

### 基本機能確認
- [ ] サイトアクセス後のアクティブユーザー増加
- [ ] ページビュー数の正確な記録
- [ ] 上位ページでの正しいURL表示
- [ ] 地理的情報の大まかな精度

### 高度な機能確認
- [ ] ページ遷移の正確な追跡
- [ ] 手動イベント送信の記録
- [ ] デバイス/技術情報の正確性
- [ ] タイムラインでの適切な反映時間

### 最終確認
- [ ] 1-2分以内でのデータ反映確認
- [ ] 複数回のテストでの一貫性確認
- [ ] 異なるページでの正常動作確認

---

## 📞 完了報告

### 成功時の報告事項
```
✅ GA4リアルタイム確認完了
- 確認日時: [記録]
- アクティブユーザー: [記録]
- ページビュー: [記録]
- データ反映時間: [記録]
- 全項目正常動作: はい/いいえ
```

### 問題発見時の報告事項
```
❌ 問題詳細レポート
- 問題の症状: [詳細記述]
- エラーメッセージ: [もしあれば]
- DevToolsのスクリーンショット: [添付]
- 再現手順: [詳細記述]
```

---

この確認が完了すれば、GA4実装は完全に動作していることが証明されます。