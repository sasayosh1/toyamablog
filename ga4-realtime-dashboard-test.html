<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            background: #007bff;
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        .step {
            background: #f8f9fa;
            margin: 20px 0;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #007bff;
        }
        .step h3 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step-number {
            background: #007bff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .dashboard-item {
            background: #e7f3ff;
            border: 2px solid #007bff;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .instruction {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .error {
            background: #f8d7da;
            border: 2px solid #dc3545;
            color: #721c24;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        button:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .btn-success { background: #28a745; }
        .btn-success:hover { background: #218838; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-warning:hover { background: #e0a800; }
        .large-button {
            font-size: 18px;
            padding: 20px 40px;
        }
        .dashboard-info {
            background: #17a2b8;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .timer {
            background: #28a745;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            font-weight: bold;
            margin: 10px 0;
        }
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª</h1>
            <p><strong>ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:</strong> TOYAMA BLOG (ID: 498053318)</p>
            <p><strong>æ¸¬å®šID:</strong> G-5VS8BF91VH</p>
            <p><strong>ç¢ºèªæ™‚åˆ»:</strong> <span id="timestamp"></span></p>
        </div>

        <div class="step">
            <h3><span class="step-number">1</span>ğŸŒ ã‚µã‚¤ãƒˆã‚¢ã‚¯ã‚»ã‚¹ & ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æº–å‚™</h3>
            <p>GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã¨TOYAMA BLOGã‚’åŒæ™‚ã«é–‹ã„ã¦ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ‡ãƒ¼ã‚¿åæ˜ ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="grid">
                <button class="large-button btn-warning" onclick="openGA4Dashboard()">
                    ğŸ“Š GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã
                </button>
                <button class="large-button btn-success" onclick="openSiteForRealtime()">
                    ğŸŒ TOYAMA BLOGã‚’é–‹ã
                </button>
            </div>
            
            <div class="dashboard-info">
                <strong>ğŸ“Š GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰URL:</strong><br>
                https://analytics.google.com/analytics/web/#/p498053318/realtime/overview
            </div>
        </div>

        <div class="step">
            <h3><span class="step-number">2</span>â° ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ç¢ºèª</h3>
            <p>GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ç¾åœ¨ã®çŠ¶æ³ã‚’è¨˜éŒ²ã—ã¾ã™ã€‚</p>
            
            <div class="instruction">
                <strong>è¨˜éŒ²é …ç›®:</strong>
                <div class="grid">
                    <div class="dashboard-item">
                        <h4>ğŸ“ˆ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</h4>
                        <p>ç¾åœ¨ã®æ•°å€¤: <input type="number" id="baseline-users" placeholder="è¨˜éŒ²"></p>
                    </div>
                    <div class="dashboard-item">
                        <h4>ğŸ“„ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼æ•°</h4>
                        <p>éå»30åˆ†: <input type="number" id="baseline-pageviews" placeholder="è¨˜éŒ²"></p>
                    </div>
                </div>
            </div>
            
            <button onclick="recordBaseline()">ğŸ“ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨˜éŒ²</button>
        </div>

        <div class="step">
            <h3><span class="step-number">3</span>ğŸš€ ãƒ†ã‚¹ãƒˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç”Ÿæˆ</h3>
            <p>å®Ÿéš›ã«ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã€GA4ã§ã®ãƒ‡ãƒ¼ã‚¿åæ˜ ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="instruction">
                <strong>ãƒ†ã‚¹ãƒˆæ‰‹é †:</strong>
                <ol>
                    <li>TOYAMA BLOGã®ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆæ—¢ã«é–‹ã„ã¦ã„ã‚‹å ´åˆã¯ãƒªãƒ­ãƒ¼ãƒ‰ï¼‰</li>
                    <li>ç•°ãªã‚‹è¨˜äº‹ã‚’3-4å›ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒšãƒ¼ã‚¸é·ç§»</li>
                    <li>ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸ã‚‚è¨ªå•</li>
                    <li>ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</li>
                </ol>
            </div>
            
            <div class="timer" id="timer">
                â±ï¸ ãƒ‡ãƒ¼ã‚¿åæ˜ ã¾ã§: å¾…æ©Ÿä¸­
            </div>
            
            <button onclick="startTrafficTest()">ğŸš— ãƒ†ã‚¹ãƒˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯é–‹å§‹</button>
            <button onclick="generateTestTraffic()">ğŸ¯ è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯</button>
        </div>

        <div class="step">
            <h3><span class="step-number">4</span>ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ç¢ºèª</h3>
            <p>GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ä»¥ä¸‹ã®é …ç›®ãŒåæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="grid">
                <div class="dashboard-item">
                    <h4>ğŸ‘¤ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</h4>
                    <p>1ä»¥ä¸Šã®æ•°å€¤ãŒè¡¨ç¤ºã•ã‚Œã‚‹</p>
                    <input type="checkbox" id="check-users"> ç¢ºèªæ¸ˆã¿
                </div>
                <div class="dashboard-item">
                    <h4>ğŸ“„ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼</h4>
                    <p>ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸãƒšãƒ¼ã‚¸æ•°ã®å¢—åŠ </p>
                    <input type="checkbox" id="check-pageviews"> ç¢ºèªæ¸ˆã¿
                </div>
                <div class="dashboard-item">
                    <h4>ğŸ“± ä¸Šä½ã®ãƒšãƒ¼ã‚¸</h4>
                    <p>ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸãƒšãƒ¼ã‚¸ã®URLè¡¨ç¤º</p>
                    <input type="checkbox" id="check-pages"> ç¢ºèªæ¸ˆã¿
                </div>
                <div class="dashboard-item">
                    <h4>ğŸŒ åœ°ç†çš„æƒ…å ±</h4>
                    <p>å¤§ã¾ã‹ãªåœ°åŸŸæƒ…å ±ã®è¡¨ç¤º</p>
                    <input type="checkbox" id="check-location"> ç¢ºèªæ¸ˆã¿
                </div>
            </div>
        </div>

        <div class="step">
            <h3><span class="step-number">5</span>ğŸ¯ è©³ç´°ç¢ºèªé …ç›®</h3>
            <p>ã‚ˆã‚Šè©³ç´°ãªé …ç›®ã‚’ç¢ºèªã—ã¦ã€GA4å®Ÿè£…ã®å®Œå…¨æ€§ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p>
            
            <div class="instruction">
                <strong>ç¢ºèªé …ç›®:</strong>
                <div style="margin-top: 15px;">
                    <label><input type="checkbox" id="detail-1"> ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã®è¨˜éŒ²</label><br>
                    <label><input type="checkbox" id="detail-2"> ãƒ‡ãƒã‚¤ã‚¹ã‚«ãƒ†ã‚´ãƒªã®è¡¨ç¤º</label><br>
                    <label><input type="checkbox" id="detail-3"> ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ã®è¨˜éŒ²</label><br>
                    <label><input type="checkbox" id="detail-4"> å‚ç…§å…ƒ/ãƒ¡ãƒ‡ã‚£ã‚¢ã®è¨˜éŒ²</label><br>
                    <label><input type="checkbox" id="detail-5"> ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§ã®æ™‚åˆ»è¡¨ç¤º</label><br>
                </div>
            </div>
        </div>

        <div class="step">
            <h3><span class="step-number">6</span>ğŸ§ª æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ</h3>
            <p>æ‰‹å‹•ã§ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¦ã€GA4ã§ã®å³åº§ã®åæ˜ ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="instruction">
                <strong>æ‰‹é †:</strong>
                <ol>
                    <li>TOYAMA BLOGã®DevTools Consoleã‚’é–‹ã</li>
                    <li>ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦å®Ÿè¡Œ</li>
                    <li>GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§1-2åˆ†å¾Œã«ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã®å¢—åŠ ã‚’ç¢ºèª</li>
                </ol>
            </div>
            
            <div style="background: #2d3748; color: #e2e8f0; padding: 20px; border-radius: 10px; font-family: monospace; margin: 15px 0;">
// GA4æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡
gtag('event', 'realtime_test', {
  event_category: 'dashboard_verification',
  event_label: 'manual_test_' + Date.now(),
  value: 1,
  custom_parameter_1: 'realtime_dashboard_test'
});
console.log('âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸ');
            </div>
            
            <button onclick="copyEventScript()">ğŸ“‹ ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>

        <div class="step">
            <h3><span class="step-number">7</span>ğŸ“ˆ æœ€çµ‚ç¢ºèªã¨ãƒ¬ãƒãƒ¼ãƒˆ</h3>
            <p>å…¨ã¦ã®ç¢ºèªé …ç›®ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€GA4å®Ÿè£…ã®å®Œå…¨æ€§ã‚’è©•ä¾¡ã—ã¾ã™ã€‚</p>
            
            <div class="success">
                <strong>âœ… æˆåŠŸåŸºæº–:</strong><br>
                â€¢ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼: 1ä»¥ä¸Š<br>
                â€¢ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: ãƒ†ã‚¹ãƒˆã‚¢ã‚¯ã‚»ã‚¹åˆ†ãŒåæ˜ <br>
                â€¢ ãƒšãƒ¼ã‚¸URL: æ­£ç¢ºãªè¨˜éŒ²<br>
                â€¢ ãƒ‡ãƒ¼ã‚¿åæ˜ æ™‚é–“: 1-2åˆ†ä»¥å†…<br>
                â€¢ ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ: æ­£å¸¸ã«è¨˜éŒ²
            </div>
            
            <button onclick="generateRealtimeReport()">ğŸ“Š æœ€çµ‚ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ</button>
        </div>

        <div id="report" style="display: none;">
            <div class="step">
                <h2>ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ</h2>
                <div id="reportContent"></div>
            </div>
        </div>
    </div>

    <script>
        let testStartTime = null;
        let timerInterval = null;
        
        // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤º
        document.getElementById('timestamp').textContent = new Date().toLocaleString('ja-JP');

        function openGA4Dashboard() {
            console.log('ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã„ã¦ã„ã¾ã™...');
            const dashboardUrl = 'https://analytics.google.com/analytics/web/#/p498053318/realtime/overview';
            const dashboardWindow = window.open(dashboardUrl, '_blank', 'width=1200,height=800');
            
            if (dashboardWindow) {
                alert('âœ… GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã—ãŸï¼\n\nç¢ºèªæ‰‹é †:\n1. Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³\n2. TOYAMA BLOGãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é¸æŠ\n3. ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã¨ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼æ•°ã‚’è¨˜éŒ²\n4. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¦‚è¦ç”»é¢ã‚’è¡¨ç¤ºã—ãŸã¾ã¾å¾…æ©Ÿ');
            } else {
                alert('âŒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        function openSiteForRealtime() {
            console.log('ğŸŒ TOYAMA BLOGã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã„ã¦ã„ã¾ã™...');
            const siteWindow = window.open('https://sasakiyoshimasa.com', '_blank', 'width=1200,height=800');
            
            if (siteWindow) {
                alert('âœ… TOYAMA BLOGã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ãã¾ã—ãŸï¼\n\næ¬¡ã®æ‰‹é †:\n1. ã‚µã‚¤ãƒˆå†…ã§è¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‚’è¨ªå•\n2. è¨˜äº‹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒšãƒ¼ã‚¸é·ç§»\n3. ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸ã‚‚è¨ªå•\n4. GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ ã‚’ç¢ºèª');
            } else {
                alert('âŒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚');
            }
        }

        function recordBaseline() {
            const users = document.getElementById('baseline-users').value;
            const pageviews = document.getElementById('baseline-pageviews').value;
            
            if (users !== '' && pageviews !== '') {
                alert(`âœ… ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨˜éŒ²å®Œäº†ï¼\n\nã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼: ${users}\nãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: ${pageviews}\n\nã“ã‚Œã‹ã‚‰å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™ã€‚`);
                console.log('ğŸ“ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨˜éŒ²:', { users, pageviews, time: new Date().toLocaleString() });
            } else {
                alert('âŒ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã¨ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        function startTrafficTest() {
            testStartTime = new Date();
            startTimer();
            alert('ğŸš€ ãƒ†ã‚¹ãƒˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯é–‹å§‹ï¼\n\nTOYAMA BLOGã®ã‚¿ãƒ–ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:\n1. è¤‡æ•°ã®è¨˜äº‹ã‚’ã‚¯ãƒªãƒƒã‚¯\n2. ãƒšãƒ¼ã‚¸é·ç§»ã‚’å®Ÿè¡Œ\n3. ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒšãƒ¼ã‚¸ã‚‚è¨ªå•\n\n1-2åˆ†å¾Œã«GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
        }

        function generateTestTraffic() {
            alert('ğŸ¯ è‡ªå‹•ãƒ†ã‚¹ãƒˆãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚’ç”Ÿæˆã—ã¾ã™ã€‚\n\nè¤‡æ•°ã®ãƒšãƒ¼ã‚¸ã‚’è‡ªå‹•ã§é–‹ã„ã¦é–‰ã˜ã‚‹ã“ã¨ã§ã€GA4ã§ã®è¨ˆæ¸¬ã‚’ç¢ºèªã—ã¾ã™ã€‚');
            
            const testPages = [
                'https://sasakiyoshimasa.com',
                'https://sasakiyoshimasa.com/blog/toyama-city-cake-station',
                'https://sasakiyoshimasa.com/categories',
                'https://sasakiyoshimasa.com/blog/toyama-city-ooita-shrine-summer-visit'
            ];
            
            testPages.forEach((url, index) => {
                setTimeout(() => {
                    const testWindow = window.open(url, `_test_${index}`, 'width=800,height=600');
                    console.log(`ğŸŒ ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸${index + 1}ã‚’é–‹ãã¾ã—ãŸ: ${url}`);
                    
                    // 3ç§’å¾Œã«è‡ªå‹•ã§é–‰ã˜ã‚‹
                    setTimeout(() => {
                        if (testWindow) {
                            testWindow.close();
                            console.log(`ğŸ”„ ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸${index + 1}ã‚’é–‰ã˜ã¾ã—ãŸ`);
                        }
                    }, 3000);
                }, index * 1000);
            });
            
            testStartTime = new Date();
            startTimer();
        }

        function startTimer() {
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((new Date() - testStartTime) / 1000);
                const remaining = Math.max(120 - elapsed, 0); // 2åˆ†å¾Œã‚’ç›®å®‰
                
                if (remaining > 0) {
                    const minutes = Math.floor(remaining / 60);
                    const seconds = remaining % 60;
                    document.getElementById('timer').textContent = 
                        `â±ï¸ ãƒ‡ãƒ¼ã‚¿åæ˜ ã¾ã§: ${minutes}:${seconds.toString().padStart(2, '0')}`;
                } else {
                    document.getElementById('timer').textContent = 'âœ… ãƒ‡ãƒ¼ã‚¿åæ˜ æ™‚é–“åˆ°é”ï¼GA4ã‚’ç¢ºèªã—ã¦ãã ã•ã„';
                    document.getElementById('timer').style.background = '#28a745';
                    clearInterval(timerInterval);
                }
            }, 1000);
        }

        function copyEventScript() {
            const script = `// GA4æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡
gtag('event', 'realtime_test', {
  event_category: 'dashboard_verification',
  event_label: 'manual_test_' + Date.now(),
  value: 1,
  custom_parameter_1: 'realtime_dashboard_test'
});
console.log('âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸ');`;

            navigator.clipboard.writeText(script).then(() => {
                alert('âœ… ã‚¤ãƒ™ãƒ³ãƒˆé€ä¿¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\n\nTOYAMA BLOGã®DevTools Consoleã«è²¼ã‚Šä»˜ã‘ã¦å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚');
            }).catch(err => {
                console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:', err);
                alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚');
            });
        }

        function generateRealtimeReport() {
            const now = new Date().toLocaleString('ja-JP');
            const baselineUsers = document.getElementById('baseline-users').value || 'æœªè¨˜éŒ²';
            const baselinePageviews = document.getElementById('baseline-pageviews').value || 'æœªè¨˜éŒ²';
            
            // åŸºæœ¬ç¢ºèªé …ç›®ã®ãƒã‚§ãƒƒã‚¯çŠ¶æ³
            const basicChecks = [
                { id: 'check-users', label: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèª' },
                { id: 'check-pageviews', label: 'ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ç¢ºèª' },
                { id: 'check-pages', label: 'ä¸Šä½ãƒšãƒ¼ã‚¸ç¢ºèª' },
                { id: 'check-location', label: 'åœ°ç†çš„æƒ…å ±ç¢ºèª' }
            ];
            
            // è©³ç´°ç¢ºèªé …ç›®ã®ãƒã‚§ãƒƒã‚¯çŠ¶æ³
            const detailChecks = [
                { id: 'detail-1', label: 'ã‚¤ãƒ™ãƒ³ãƒˆæ•°ã®è¨˜éŒ²' },
                { id: 'detail-2', label: 'ãƒ‡ãƒã‚¤ã‚¹ã‚«ãƒ†ã‚´ãƒªã®è¡¨ç¤º' },
                { id: 'detail-3', label: 'ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ã®è¨˜éŒ²' },
                { id: 'detail-4', label: 'å‚ç…§å…ƒ/ãƒ¡ãƒ‡ã‚£ã‚¢ã®è¨˜éŒ²' },
                { id: 'detail-5', label: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§ã®æ™‚åˆ»è¡¨ç¤º' }
            ];
            
            let basicCompleted = 0;
            let detailCompleted = 0;
            
            let basicHTML = '';
            basicChecks.forEach(check => {
                const isChecked = document.getElementById(check.id).checked;
                if (isChecked) basicCompleted++;
                const status = isChecked ? 'âœ…' : 'âŒ';
                basicHTML += `<p>${status} ${check.label}</p>`;
            });
            
            let detailHTML = '';
            detailChecks.forEach(check => {
                const isChecked = document.getElementById(check.id).checked;
                if (isChecked) detailCompleted++;
                const status = isChecked ? 'âœ…' : 'âŒ';
                detailHTML += `<p>${status} ${check.label}</p>`;
            });
            
            const totalScore = Math.round(((basicCompleted * 2 + detailCompleted) / (basicChecks.length * 2 + detailChecks.length)) * 100);
            const overallStatus = totalScore >= 80 ? 'ğŸ‰ æˆåŠŸ' : totalScore >= 60 ? 'âš ï¸ éƒ¨åˆ†çš„æˆåŠŸ' : 'âŒ è¦æ”¹å–„';
            
            const reportContent = `
                <div class="success">
                    <h3>ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ</h3>
                    <p><strong>ç¢ºèªæ—¥æ™‚:</strong> ${now}</p>
                    <p><strong>GA4ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£:</strong> TOYAMA BLOG (ID: 498053318)</p>
                    <p><strong>æ¸¬å®šID:</strong> G-5VS8BF91VH</p>
                    <p><strong>ç·åˆè©•ä¾¡:</strong> ${overallStatus} (${totalScore}%)</p>
                    
                    <h4>ğŸ“ˆ ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³è¨˜éŒ²</h4>
                    <p>â€¢ é–‹å§‹æ™‚ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼: ${baselineUsers}</p>
                    <p>â€¢ é–‹å§‹æ™‚ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: ${baselinePageviews}</p>
                    
                    <h4>ğŸ“‹ åŸºæœ¬ç¢ºèªé …ç›® (${basicCompleted}/${basicChecks.length})</h4>
                    ${basicHTML}
                    
                    <h4>ğŸ” è©³ç´°ç¢ºèªé …ç›® (${detailCompleted}/${detailChecks.length})</h4>
                    ${detailHTML}
                    
                    <h4>ğŸ¯ çµè«–</h4>
                    <p>${totalScore >= 80 ? 
                        '<strong style="color: #28a745;">GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</strong>' : 
                        totalScore >= 60 ?
                        '<strong style="color: #ffc107;">åŸºæœ¬çš„ãªå‹•ä½œã¯ç¢ºèªã§ãã¾ã—ãŸãŒã€ä¸€éƒ¨é …ç›®ã§æ”¹å–„ã®ä½™åœ°ãŒã‚ã‚Šã¾ã™ã€‚</strong>' :
                        '<strong style="color: #dc3545;">GA4ã®è¨­å®šã‚„å®Ÿè£…ã«å•é¡ŒãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚DevToolsã§ã®ç¢ºèªã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</strong>'
                    }</p>
                    
                    <h4>ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h4>
                    <p>${totalScore >= 80 ? 
                        'GA4å®Ÿè£…ã¯å®Œå…¨ã«æˆåŠŸã—ã¦ã„ã¾ã™ã€‚ç¶™ç¶šçš„ãªç›£è¦–ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚' :
                        'æœªç¢ºèªã®é …ç›®ã«ã¤ã„ã¦å†åº¦ç¢ºèªã‚’è¡Œã„ã€å¿…è¦ã«å¿œã˜ã¦DevToolsã§ã®è©³ç´°èª¿æŸ»ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚'
                    }</p>
                    
                    <h4>ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯</h4>
                    <p><a href="https://analytics.google.com/analytics/web/#/p498053318/realtime/overview" target="_blank">GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆ</a></p>
                    <p><a href="https://sasakiyoshimasa.com" target="_blank">TOYAMA BLOG</a></p>
                </div>
            `;
            
            document.getElementById('reportContent').innerHTML = reportContent;
            document.getElementById('report').style.display = 'block';
            document.getElementById('report').scrollIntoView({ behavior: 'smooth' });
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®æ¡ˆå†…
        window.onload = () => {
            console.log('ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆç¢ºèªãƒ„ãƒ¼ãƒ«ã‚’é–‹å§‹ã—ã¾ã—ãŸ');
            console.log('æ‰‹é †ã«å¾“ã£ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ãƒ‡ãƒ¼ã‚¿åæ˜ ã‚’ç¢ºèªã—ã¦ãã ã•ã„');
        };
    </script>
</body>
</html>