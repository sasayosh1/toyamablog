<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ GA4æœ€çµ‚ç¢ºèª - å®Ÿå‹•ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(45deg, #007bff, #28a745);
            color: white;
            border-radius: 15px;
        }
        .step {
            background: #f8f9fa;
            margin: 20px 0;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #007bff;
            position: relative;
        }
        .step.success {
            border-left-color: #28a745;
            background: #d4edda;
        }
        .step.warning {
            border-left-color: #ffc107;
            background: #fff3cd;
        }
        .step.error {
            border-left-color: #dc3545;
            background: #f8d7da;
        }
        .step h3 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step-number {
            background: #007bff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 15px 0;
            white-space: pre-wrap;
            border: 2px solid #4a5568;
        }
        .highlight {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            position: relative;
        }
        .success-box {
            background: #d4edda;
            border: 2px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .error-box {
            background: #f8d7da;
            border: 2px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        button:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .btn-primary { background: #007bff; }
        .btn-success { background: #28a745; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-danger { background: #dc3545; }
        
        .btn-success:hover { background: #218838; }
        .btn-warning:hover { background: #e0a800; }
        .btn-danger:hover { background: #c82333; }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
        }
        
        .status-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #6c757d;
        }
        .status-indicator.pending { background: #6c757d; }
        .status-indicator.processing { background: #ffc107; animation: pulse 1.5s infinite; }
        .status-indicator.success { background: #28a745; }
        .status-indicator.error { background: #dc3545; }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .instruction-list {
            background: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .instruction-list ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .instruction-list li {
            margin: 8px 0;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ GA4å®Ÿè£…æœ€çµ‚ç¢ºèª</h1>
            <p><strong>æ¸¬å®šID:</strong> G-5VS8BF91VH | <strong>å¯¾è±¡:</strong> https://sasakiyoshimasa.com</p>
            <p><strong>ç¢ºèªæ™‚åˆ»:</strong> <span id="timestamp"></span></p>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-1"></div>
            <h3><span class="step-number">1</span>ğŸŒ ã‚µã‚¤ãƒˆã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã</h3>
            <p>ã¾ãšã€å®Ÿéš›ã®ã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦GA4ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <button class="btn-success" onclick="openSiteForTesting()" id="btn-open-site">
                ğŸš€ TOYAMA BLOGã‚’é–‹ã
            </button>
            
            <div class="highlight">
                <strong>ğŸ“ é‡è¦:</strong> ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ã¦ãã ã•ã„ã€‚<br>
                æ–°ã—ã„ã‚¿ãƒ–ã§ https://sasakiyoshimasa.com ãŒé–‹ã‹ã‚Œã¾ã™ã€‚
            </div>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-2"></div>
            <h3><span class="step-number">2</span>ğŸ”§ DevToolsã§GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¢ºèª</h3>
            <p>é–‹ã„ãŸã‚µã‚¤ãƒˆã§F12ã‚’æŠ¼ã—ã¦DevToolsã‚’é–‹ãã€ä¸‹è¨˜ã®æ‰‹é †ã§GA4å®Ÿè£…ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
            
            <div class="instruction-list">
                <ol>
                    <li><strong>F12</strong> ã‚’æŠ¼ã—ã¦DevToolsã‚’é–‹ã</li>
                    <li><strong>Network</strong> ã‚¿ãƒ–ã‚’é¸æŠ</li>
                    <li>ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¬„ã«ã€Œ<strong>gtag</strong>ã€ã¨å…¥åŠ›</li>
                    <li><strong>Ctrl+R</strong> (Windows) ã¾ãŸã¯ <strong>Cmd+R</strong> (Mac) ã§ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰</li>
                </ol>
            </div>
            
            <div class="success-box">
                <strong>âœ… æœŸå¾…ã•ã‚Œã‚‹çµæœ:</strong><br>
                <code>gtag/js?id=G-5VS8BF91VH</code> ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
            </div>
            
            <button onclick="copyToClipboard('gtag')" class="btn-primary">ğŸ“‹ æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã€Œgtagã€ã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-3"></div>
            <h3><span class="step-number">3</span>ğŸ“Š Console ã§GA4å®Ÿè£…ç¢ºèª</h3>
            <p>DevTools Consoleã§è©³ç´°ãªå®Ÿè£…çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="instruction-list">
                <ol>
                    <li>DevToolsã® <strong>Console</strong> ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ</li>
                    <li>ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘</li>
                    <li><strong>Enter</strong> ã§å®Ÿè¡Œ</li>
                </ol>
            </div>

            <div class="code-block">// GA4å®Ÿè£…ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
console.log('ğŸ¯ GA4ç¢ºèªé–‹å§‹ - æ¸¬å®šID: G-5VS8BF91VH');

// 1. gtagé–¢æ•°ç¢ºèª
if (typeof window.gtag === 'function') {
    console.log('âœ… gtagé–¢æ•°: å­˜åœ¨');
} else {
    console.log('âŒ gtagé–¢æ•°: æœªæ¤œå‡º');
}

// 2. dataLayerç¢ºèª
if (Array.isArray(window.dataLayer)) {
    console.log(`âœ… dataLayer: ${window.dataLayer.length}å€‹ã®è¦ç´ `);
    console.log('dataLayerå†…å®¹:', window.dataLayer);
} else {
    console.log('âŒ dataLayer: æœªæ¤œå‡º');
}

// 3. GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¢ºèª
const gtagScripts = document.querySelectorAll('script[src*="gtag/js"]');
console.log(`ğŸ“¡ GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ•°: ${gtagScripts.length}`);
gtagScripts.forEach((script, i) => {
    console.log(`âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆ${i+1}: ${script.src}`);
});

// 4. æ¸¬å®šIDç¢ºèª
const allScripts = document.querySelectorAll('script');
let found = false;
allScripts.forEach(script => {
    if (script.innerHTML.includes('G-5VS8BF91VH')) {
        found = true;
        console.log('âœ… æ¸¬å®šID G-5VS8BF91VH ã‚’ç¢ºèª');
    }
});
if (!found) console.log('âŒ æ¸¬å®šIDæœªæ¤œå‡º');

console.log('ğŸ¯ Consoleç¢ºèªå®Œäº†!');</div>
            
            <button onclick="copyToClipboard(getConsoleScript())" class="btn-primary">ğŸ“‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-4"></div>
            <h3><span class="step-number">4</span>ğŸ”„ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼é€ä¿¡ç¢ºèª</h3>
            <p>å®Ÿéš›ã®ãƒšãƒ¼ã‚¸é·ç§»ã§pageviewã‚¤ãƒ™ãƒ³ãƒˆãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="instruction-list">
                <ol>
                    <li>DevToolsã® <strong>Network</strong> ã‚¿ãƒ–ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ã€Œ<strong>collect</strong>ã€ã«å¤‰æ›´</li>
                    <li>ã‚µã‚¤ãƒˆå†…ã®è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
                    <li>ãƒšãƒ¼ã‚¸é·ç§»å¾Œã€collectãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</li>
                </ol>
            </div>
            
            <div class="success-box">
                <strong>âœ… æœŸå¾…ã•ã‚Œã‚‹çµæœ:</strong><br>
                <code>collect?v=2&tid=G-5VS8BF91VH</code> ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹<br>
                <strong>é‡è¦:</strong> ãƒšãƒ¼ã‚¸é·ç§»ã”ã¨ã«1å›ã ã‘é€ä¿¡ã•ã‚Œã‚‹
            </div>
            
            <button onclick="copyToClipboard('collect')" class="btn-primary">ğŸ“‹ æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ã€Œcollectã€ã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-5"></div>
            <h3><span class="step-number">5</span>ğŸš€ æ‰‹å‹•pageviewé€ä¿¡ãƒ†ã‚¹ãƒˆ</h3>
            <p>Consoleã‹ã‚‰æ‰‹å‹•ã§pageviewã‚’é€ä¿¡ã—ã¦GA4ã®å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="code-block">// æ‰‹å‹•pageviewé€ä¿¡ãƒ†ã‚¹ãƒˆ
if (typeof window.gtag === 'function') {
    window.gtag('config', 'G-5VS8BF91VH', {
        page_path: '/manual-test-' + Date.now(),
        page_title: 'Manual Test Page'
    });
    console.log('âœ… æ‰‹å‹•pageviewã‚’é€ä¿¡ã—ã¾ã—ãŸ');
    console.log('ğŸ’¡ Networkã‚¿ãƒ–ã§collectãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„');
} else {
    console.log('âŒ gtagé–¢æ•°ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');
}</div>
            
            <button onclick="copyToClipboard(getManualTestScript())" class="btn-primary">ğŸ“‹ é€ä¿¡ãƒ†ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>

        <div class="step">
            <div class="status-indicator pending" id="status-6"></div>
            <h3><span class="step-number">6</span>ğŸ“ˆ GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª</h3>
            <p>GA4ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®è¨ˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <button class="btn-warning" onclick="openGA4Dashboard()">ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚’é–‹ã</button>
            
            <div class="grid">
                <div class="highlight">
                    <strong>ç¢ºèªé …ç›®:</strong><br>
                    â€¢ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°<br>
                    â€¢ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼æ•°<br>
                    â€¢ ãƒšãƒ¼ã‚¸ãƒ‘ã‚¹<br>
                    â€¢ ã‚¤ãƒ™ãƒ³ãƒˆæ•°
                </div>
                
                <div class="success-box">
                    <strong>âœ… æœŸå¾…ã•ã‚Œã‚‹çµæœ:</strong><br>
                    ã‚µã‚¤ãƒˆã‚¢ã‚¯ã‚»ã‚¹å¾Œ1-2åˆ†ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
                </div>
            </div>
        </div>

        <div class="step success">
            <div class="status-indicator pending" id="status-7"></div>
            <h3><span class="step-number">7</span>ğŸ‰ æœ€çµ‚ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h3>
            <p>å…¨ã¦ã®ç¢ºèªé …ç›®ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦å®Ÿè£…å®Œäº†ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            
            <div class="success-box">
                <strong>âœ… ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ:</strong><br>
                <div style="margin-top: 10px;">
                    <label><input type="checkbox" id="check-1"> gtag/js?id=G-5VS8BF91VH ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿</label><br>
                    <label><input type="checkbox" id="check-2"> window.gtagé–¢æ•°ã®å­˜åœ¨</label><br>
                    <label><input type="checkbox" id="check-3"> window.dataLayerã®å­˜åœ¨</label><br>
                    <label><input type="checkbox" id="check-4"> æ¸¬å®šID G-5VS8BF91VH ã®ç¢ºèª</label><br>
                    <label><input type="checkbox" id="check-5"> ãƒšãƒ¼ã‚¸é·ç§»æ™‚ã®collectãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</label><br>
                    <label><input type="checkbox" id="check-6"> GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã§ã®è¨ˆæ¸¬ç¢ºèª</label><br>
                </div>
            </div>
            
            <button onclick="generateFinalReport()" class="btn-success">ğŸ“‹ æœ€çµ‚ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ</button>
        </div>

        <div id="final-report" style="display: none;">
            <div class="step success">
                <h2>ğŸ“Š GA4å®Ÿè£…ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ</h2>
                <div id="report-content"></div>
            </div>
        </div>
    </div>

    <script>
        // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤º
        document.getElementById('timestamp').textContent = new Date().toLocaleString('ja-JP');

        function openSiteForTesting() {
            console.log('ğŸŒ TOYAMA BLOGã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã„ã¦ã„ã¾ã™...');
            updateStatus('status-1', 'processing');
            
            const siteWindow = window.open('https://sasakiyoshimasa.com', '_blank', 'width=1200,height=800');
            
            if (siteWindow) {
                updateStatus('status-1', 'success');
                alert('âœ… TOYAMA BLOGã‚’æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ãã¾ã—ãŸï¼\n\næ¬¡ã®æ‰‹é †:\n1. æ–°ã—ã„ã‚¿ãƒ–ã§F12ã‚’æŠ¼ã—ã¦DevToolsã‚’é–‹ã\n2. Networkã‚¿ãƒ–ã§GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç¢ºèª\n3. Consoleã‚¿ãƒ–ã§å®Ÿè£…çŠ¶æ³ã‚’ç¢ºèª');
                
                // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æœ‰åŠ¹åŒ–
                document.getElementById('btn-open-site').textContent = 'âœ… ã‚µã‚¤ãƒˆã‚’é–‹ãã¾ã—ãŸ';
                document.getElementById('btn-open-site').disabled = true;
            } else {
                updateStatus('status-1', 'error');
                alert('âŒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        function openGA4Dashboard() {
            console.log('ğŸ“Š GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚’é–‹ã„ã¦ã„ã¾ã™...');
            updateStatus('status-6', 'processing');
            
            const dashboardUrl = 'https://analytics.google.com/analytics/web/#/p498053318/realtime/overview';
            const dashboardWindow = window.open(dashboardUrl, '_blank');
            
            if (dashboardWindow) {
                updateStatus('status-6', 'success');
                alert('âœ… GA4ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚’é–‹ãã¾ã—ãŸï¼\n\nç¢ºèªé …ç›®:\nâ€¢ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼\nâ€¢ ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼\nâ€¢ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ\n\nã‚µã‚¤ãƒˆã‚¢ã‚¯ã‚»ã‚¹å¾Œ1-2åˆ†ã§åæ˜ ã•ã‚Œã¾ã™ã€‚');
            } else {
                updateStatus('status-6', 'error');
                alert('âŒ ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚');
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = event.target.textContent;
                event.target.textContent = 'âœ… ã‚³ãƒ”ãƒ¼å®Œäº†!';
                event.target.style.background = '#28a745';
                
                setTimeout(() => {
                    event.target.textContent = originalText;
                    event.target.style.background = '#007bff';
                }, 2000);
            }).catch(err => {
                console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—:', err);
                alert('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã®ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ãã ã•ã„ã€‚');
            });
        }

        function getConsoleScript() {
            return `// GA4å®Ÿè£…ç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
console.log('ğŸ¯ GA4ç¢ºèªé–‹å§‹ - æ¸¬å®šID: G-5VS8BF91VH');

// 1. gtagé–¢æ•°ç¢ºèª
if (typeof window.gtag === 'function') {
    console.log('âœ… gtagé–¢æ•°: å­˜åœ¨');
} else {
    console.log('âŒ gtagé–¢æ•°: æœªæ¤œå‡º');
}

// 2. dataLayerç¢ºèª
if (Array.isArray(window.dataLayer)) {
    console.log(\`âœ… dataLayer: \${window.dataLayer.length}å€‹ã®è¦ç´ \`);
    console.log('dataLayerå†…å®¹:', window.dataLayer);
} else {
    console.log('âŒ dataLayer: æœªæ¤œå‡º');
}

// 3. GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¢ºèª
const gtagScripts = document.querySelectorAll('script[src*="gtag/js"]');
console.log(\`ğŸ“¡ GA4ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ•°: \${gtagScripts.length}\`);
gtagScripts.forEach((script, i) => {
    console.log(\`âœ… ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\${i+1}: \${script.src}\`);
});

// 4. æ¸¬å®šIDç¢ºèª
const allScripts = document.querySelectorAll('script');
let found = false;
allScripts.forEach(script => {
    if (script.innerHTML.includes('G-5VS8BF91VH')) {
        found = true;
        console.log('âœ… æ¸¬å®šID G-5VS8BF91VH ã‚’ç¢ºèª');
    }
});
if (!found) console.log('âŒ æ¸¬å®šIDæœªæ¤œå‡º');

console.log('ğŸ¯ Consoleç¢ºèªå®Œäº†!');`;
        }

        function getManualTestScript() {
            return `// æ‰‹å‹•pageviewé€ä¿¡ãƒ†ã‚¹ãƒˆ
if (typeof window.gtag === 'function') {
    window.gtag('config', 'G-5VS8BF91VH', {
        page_path: '/manual-test-' + Date.now(),
        page_title: 'Manual Test Page'
    });
    console.log('âœ… æ‰‹å‹•pageviewã‚’é€ä¿¡ã—ã¾ã—ãŸ');
    console.log('ğŸ’¡ Networkã‚¿ãƒ–ã§collectãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„');
} else {
    console.log('âŒ gtagé–¢æ•°ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');
}`;
        }

        function updateStatus(statusId, status) {
            const element = document.getElementById(statusId);
            element.className = `status-indicator ${status}`;
        }

        function generateFinalReport() {
            const now = new Date().toLocaleString('ja-JP');
            const checkboxes = document.querySelectorAll('#final-report input[type="checkbox"]');
            const checkedCount = document.querySelectorAll('#final-report input[type="checkbox"]:checked').length;
            const totalCount = checkboxes.length;
            
            let checklistHTML = '';
            for (let i = 1; i <= 6; i++) {
                const checkbox = document.getElementById(`check-${i}`);
                const status = checkbox.checked ? 'âœ…' : 'âŒ';
                const label = checkbox.nextSibling.textContent.trim();
                checklistHTML += `<p>${status} ${label}</p>`;
            }
            
            const reportContent = `
                <div class="success-box">
                    <h3>ğŸ¯ GA4å®Ÿè£…ç¢ºèªãƒ¬ãƒãƒ¼ãƒˆ</h3>
                    <p><strong>ç¢ºèªæ—¥æ™‚:</strong> ${now}</p>
                    <p><strong>æ¸¬å®šID:</strong> G-5VS8BF91VH</p>
                    <p><strong>å¯¾è±¡ã‚µã‚¤ãƒˆ:</strong> https://sasakiyoshimasa.com</p>
                    <p><strong>ç¢ºèªçŠ¶æ³:</strong> ${checkedCount}/${totalCount} é …ç›®å®Œäº†</p>
                    
                    <h4>ğŸ“‹ ç¢ºèªé …ç›®</h4>
                    ${checklistHTML}
                    
                    <h4>ğŸ‰ çµè«–</h4>
                    <p>${checkedCount === totalCount ? 
                        '<strong style="color: #28a745;">GA4å®Ÿè£…ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</strong>' : 
                        '<strong style="color: #ffc107;">ä¸€éƒ¨ã®é …ç›®ã§ç¢ºèªãŒå¿…è¦ã§ã™ã€‚</strong>'
                    }</p>
                    
                    <h4>ğŸ“ ã‚µãƒãƒ¼ãƒˆ</h4>
                    <p>å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ã€DevToolsã®Consoleã¨Networkã‚¿ãƒ–ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’å«ã‚ã¦å ±å‘Šã—ã¦ãã ã•ã„ã€‚</p>
                </div>
            `;
            
            document.getElementById('report-content').innerHTML = reportContent;
            document.getElementById('final-report').style.display = 'block';
            document.getElementById('final-report').scrollIntoView({ behavior: 'smooth' });
            
            updateStatus('status-7', 'success');
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®æ¡ˆå†…
        window.onload = () => {
            console.log('ğŸ¯ GA4æœ€çµ‚ç¢ºèªãƒ„ãƒ¼ãƒ«ã‚’é–‹å§‹ã—ã¾ã—ãŸ');
            console.log('æ‰‹é †ã«å¾“ã£ã¦ç¢ºèªã‚’é€²ã‚ã¦ãã ã•ã„');
        };
    </script>
</body>
</html>